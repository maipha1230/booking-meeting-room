<div class="flex flex-col items-center ">
  <label class="text-xl font-bold my-2" for="">ห้องประชุม</label>

  <form [formGroup]="formMeeting">
    <!-- room name -->
    <div class="mb-1 w-full">
      <label class="text-base  text-gray-700">ชื่อห้องประชุม</label>
      <mat-form-field appearance="outline" class="w-full" >
        <input
          matInput
          type="text"
          class="w-full text-base pl-2"
          placeholder="ชื่อห้องประชุม"
          formControlName="roomName"
          required
          autocomplete="off"
        />
        <mat-error class="text-xs">กรุณากรอกชื่อห้องประชุม</mat-error>
      </mat-form-field>
    </div>

    <!-- room size -->
    <div class="mb-1 w-full">
      <label class="text-base  text-gray-700">ขนาดห้องประชุม</label>
      <mat-form-field appearance="outline" class="w-full">
        <mat-select
          class="w-full text-base"
          placeholder="ระบุขนาดห้องประชุม"
          formControlName="roomSize"
        >
          <mat-option *ngFor="let size of meetingRoomSizeList" [value]="size.room_size_id">{{size.name}}</mat-option>
        </mat-select>
        <mat-error class="text-xs">กรุณาระบุขนาดห้องประชุม</mat-error>
      </mat-form-field>
    </div>
    <!-- room capacity -->
    <div class="mb-1 w-full">
      <label class="text-base  text-gray-700"
        >ความจุห้องประชุม(จำนวนคน)</label
      >
      <mat-form-field appearance="outline" class="w-full">
        <input
          matInput
          type="text"
          class="w-full text-base pl-2"
          placeholder="ความจุห้องประชุม"
          formControlName="roomCapacity"
          required
          autocomplete="off"
          maxlength="4"
          onlyNumber
        />
        <mat-error class="text-xs">กรุณากรอกความจุห้องประชุม</mat-error>
      </mat-form-field>
    </div>
    <!-- room status -->
    <div class="mb-1 w-full">
      <label class="text-base  text-gray-700">สถานะห้องประชุม</label>
      <mat-form-field appearance="outline" class="w-full">
        <mat-select
          class="w-full text-base"
          placeholder="ระบุสถานะห้องประชุม"
          formControlName="roomStatus"
        >
          <mat-option *ngFor="let status of meetingRoomStatusList" [value]="status.room_status_id">{{status.name}}</mat-option>
        </mat-select>
        <mat-error class="text-xs">กรุณาระบุสถานะห้องประชุม</mat-error>
      </mat-form-field>
    </div>

    <div class="mb-1 w-full">
      <label class="text-base  text-gray-700">สีของห้องประชุม</label>
      <input type="color" class="mx-2" formControlName="roomColor">
    </div>

    <div class="flex flex-col">
      <label class="text-base form-label inline-block  text-gray-700"
        >รูปภาพ(มากสุด 3 รูปภาพ)</label
      >
      <label class="" for=""></label>
      <div
        class="flex flex-row gap-2 bg-gray-200 h-28 rounded-lg px-2 py-2 w-full"
      >
        <label class="w-1/3 relative hover:cursor-pointer" for="" *ngFor="let img of formMeeting.controls['roomGallery'].value, let i = index">
          <mat-icon
            class="absolute text-red-500 right-1 top-1 hover:text-red-500 hover:cursor-pointer hover:scale-150 duration-200"
            (click)="onRemoveImage(i)"
            >delete</mat-icon
          >
          <img
            alt="gallery"
            class="block object-cover object-center w-full h-full rounded-lg"
            [src]="img"
          />
        </label>

        <label class="w-1/3" *ngIf="formMeeting.controls['roomGallery']?.value?.length < 3 " for="uploadFile">
          <div
            class="bg-gray-300 hover:bg-gray-400 hover:cursor-pointer w-full h-full rounded-lg flex justify-center items-center"
          >
            <mat-icon class="text-white">add</mat-icon>
          </div>
          <input type="file" class="invisible" id="uploadFile" accept="image/png, image/jpg, image/jpeg" multiple (change)="fileChangeEvent($event)">
        </label>
      </div>
    </div>

    <!-- button -->
    <div class="my-2 flex flex-row justify-center">
      <button
        type="submit"
        class="mx-2 items-center h-9 w-28 bg-green-500 text-white rounded hover:bg-green-600 transition duration-150 ease-in-out"
        (click)="onSave()"
      >
        บันทึก
      </button>
      <button
        mat-dialog-close
        type="button"
        class="mx-2 items-center h-9 w-28 bg-red-500 text-white rounded hover:bg-red-600 transition duration-150 ease-in-out"
      >
        ยกเลิก
      </button>
    </div>
  </form>
</div>
